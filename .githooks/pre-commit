#!/bin/bash
set -e

# Check if we're running inside the dev container
if [ "$IN_CONTAINER" = "true" ]; then
	# Inside dev container - use Python 3.12 directly
	echo "Running pre-commit inside container..."
	python -m pre_commit run
else
	# Outside dev container - try to run via podman-compose
	echo "Running pre-commit via dev container..."
	podman-compose run --rm dev python -m pre_commit run
fi
